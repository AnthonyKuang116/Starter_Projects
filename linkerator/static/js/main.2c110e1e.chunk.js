(this.webpackJsonpstarting_code=this.webpackJsonpstarting_code||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),l=a(12),o=a(11),u=a.n(o),s=a(14),d=a(18),m=a.n(d);function p(){return(p=Object(s.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/tags");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var f=function(){return p.apply(this,arguments)};function g(){return(g=Object(s.a)(u.a.mark((function e(t){var a,n,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.link,n=t.comment,r=t.tags,e.prev=1,e.next=4,m.a.post("/api/links",{link:a,clickCount:0,comment:n,dateShared:new Date,tags:r});case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var h=function(e){return g.apply(this,arguments)};function b(){return(b=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.patch("/api/links/".concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var v=function(e){return b.apply(this,arguments)};function E(){return(E=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("/api/links/".concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("deleteLink",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var k=function(e){return E.apply(this,arguments)};function y(){return(y=Object(s.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/api/links");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var x=a(160),O=a(163),j=Object(x.a)((function(e){return{container:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gridTemplateRows:"repeat(10, 1fr)"},mainPaper:{width:"85%",height:"1120px",margin:"0 auto",gridColumn:"2/9",gridRow:"1/-1",display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gridTemplateRows:"repeat(10, 1fr)",backgroundColor:"#faedcdff"}}})),w=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),o=Object(l.a)(i,2),u=o[0],s=o[1],d=Object(n.useState)([]),m=Object(l.a)(d,2),p=m[0],g=m[1],h=Object(n.useState)(""),b=Object(l.a)(h,2),E=b[0],x=b[1],w=Object(n.useState)(0),C=Object(l.a)(w,2),S=C[0],T=C[1],N=j();Object(n.useEffect)((function(){(function(){return y.apply(this,arguments)})().then((function(e){s(e.allLinks)})).catch((function(e){console.log(a),c(e.message)}))}),[u]),Object(n.useEffect)((function(){f().then((function(e){g(e)})).catch((function(e){c(e.message)}))}),[]);return r.a.createElement("div",{className:N.container},r.a.createElement(O.a,{className:N.mainPaper,elevation:3},r.a.createElement("div",{style:{gridColumn:"2/10",gridRow:"1/2",justifyContent:"center",display:"flex",fontFamily:"fantasy"}},r.a.createElement("h1",{style:{textDecoration:"underline",color:"#0040ff"}},"The Great Linkerator")),r.a.createElement(se,{currentSearchText:E,handleSearchTextChange:function(e){x(e.currentTarget.value)},searchOptionChange:function(e){T(e.target.value),console.log(e.target.value)},currentOption:S}),r.a.createElement(re,{rows:function(){var e=[];return 0===S&&E?(E&&(e=u.filter((function(e){return e.link.includes(E)}))),console.log(e),e):E?(u.forEach((function(t){var a=t.tags.filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.includes(E)}));(null===a||void 0===a?void 0:a.length)>0&&e.push(t)})),e):u}(),handleLinkClick:function(e){try{v(e).then((function(e){s(e.update)})).catch((function(e){throw Error(e)}))}catch(t){console.log(t)}},setCurrentSearchText:x,currentSearchText:E,handleSearchTextChanged:function(e){x(e)},handleLinkDelete:function(e){k(e.id).then((function(e){return s(e.removeLink)})).catch((function(e){return console.log(e)}))}}),r.a.createElement(L,{tags:p})," "))},C=a(183),S=a(169),T=a(126),N=a(180),P=Object(x.a)((function(e){return{form:{gridColumn:"2/10",gridRow:"2/3",margin:e.spacing(1),width:"90%",minHeight:"20rem",display:"flex",alignItems:"center",flexFlow:"column nowrap",border:"2px solid #d4a373ff",padding:".5rem",marginRight:"20px",marginBottom:"20px",borderRadius:"5px",backgroundColor:"#fefae0ff",justifyContent:"space-around",justifySelf:"right"},textField:{margin:e.spacing(1),color:"#ccd5aeff",width:"90%"},formControl:{margin:e.spacing(1),minWidth:115},selectEmpty:{marginTop:e.spacing(2)},typography:{marginTop:"20px",marginLeft:"10px",fontWeight:"bolder"}}})),L=function(){var e=P(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)([]),d=Object(l.a)(o,2),m=d[0],p=d[1],f=Object(n.useState)(""),g=Object(l.a)(f,2),b=g[0],v=g[1],E=Object(n.useState)(null),k=Object(l.a)(E,2),y=k[0],x=k[1],O=Object(n.useState)(""),j=Object(l.a)(O,2),w=j[0],L=j[1],R=Object(n.useRef)(null),B=Object(n.useRef)(null),F=Object(n.useState)(""),D=Object(l.a)(F,2),I=D[0],H=D[1],W=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=4;break}return x(R.current),H("Link field can not be empty."),e.abrupt("return");case 4:if(m.join(",")){e.next=8;break}return x(B.current),H("Tag field can not be empty."),e.abrupt("return");case 8:h({link:c,comment:b,tags:m}).then((function(e){if("error"===e.name)throw Error(e.message);L("Link created successfuly!"),i(""),p([])})).catch((function(e){return L(e.message)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.target.value),w&&L("");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=Boolean(y),G=q?y:void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:W,className:e.form,validate:!0,autoComplete:"off"},r.a.createElement(T.a,{variant:"h5",gutterBottom:!0,className:e.typography},"Create a new Link:"),r.a.createElement(C.a,{className:e.textField,id:"txt-link",label:"Link",onChange:_,value:c,ref:R}),r.a.createElement(C.a,{className:e.textField,id:"txt-comment",label:"Link Comment",onChange:function(e){v(e.target.value)},value:b}),r.a.createElement(C.a,{className:e.textField,id:"txt-tags",label:"Enter Tags separted by comma(,)",onChange:function(e){p(e.target.value.split(",")),w&&L("")},value:m.join(","),ref:B}),r.a.createElement(S.a,{variant:"contained",color:"primary",id:"btn-create-link",style:{height:"50px",margin:"10px 0",width:"20%",alignSelf:"center"},onClick:z},"Create"),r.a.createElement(T.a,{className:e.typography},w)),r.a.createElement(N.a,{id:G,open:q,anchorEl:y,onClose:function(){x(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(T.a,{className:e.typography},I)))},R=a(43),B=a(3),F=a(9),D=a(176),I=a(177),H=a(172),W=a(175),z=a(170),_=a(181),q=a(171),G=a(185),J=a(173),A=a(174),M=a(186),V=a(178),K=a(188),Q=a(79),U=a.n(Q),X=a(80),Y=a.n(X);function Z(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var $=[{id:"id",numeric:!0,disablePadding:!0,label:"Id",disableSorting:!0},{id:"link",numeric:!1,disablePadding:!1,label:"Link",disableSorting:!0},{id:"clickCount",numeric:!0,disablePadding:!1,label:"Click Count",disableSorting:!1},{id:"comment",numeric:!1,disablePadding:!1,label:"Comment",disableSorting:!0},{id:"dateShared",numeric:!1,disablePadding:!1,label:"Date Shared",disableSorting:!0},{id:"tags",numeric:!1,disablePadding:!1,label:"Tags",disableSorting:!0},{id:"delete",numeric:!1,disablePadding:!1,label:"Delete",disableSorting:!0}];function ee(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return r.a.createElement(z.a,null,r.a.createElement(q.a,null,$.map((function(e){return r.a.createElement(H.a,{key:e.id,align:e.numeric?"right":"center",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(G.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:e.disableSorting?"":(i=e.id,function(e){c(e,i)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var i}))))}var te=Object(x.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(F.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),ae=function(e){var t=te(),a=e.numSelected;return r.a.createElement(J.a,{className:Object(B.a)(t.root,Object(R.a)({},t.highlight,a>0))},a>0?r.a.createElement(T.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},a," selected"):r.a.createElement(T.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Links"),a>0?r.a.createElement(M.a,{title:"Delete"},r.a.createElement(A.a,{"aria-label":"delete"},r.a.createElement(U.a,null))):r.a.createElement(M.a,{title:"Filter list"},r.a.createElement(A.a,{"aria-label":"filter list"},r.a.createElement(Y.a,null))))},ne=Object(x.a)((function(e){return{root:{width:"90%",margin:"0 auto",gridRow:"4/11",gridColumn:"1/-1",justifySelf:"right",maxHeight:"20vh"},paper:{width:"100%",marginBottom:e.spacing(2),backgroundColor:"#fefae0ff",border:"2px solid #d4a373ff",flexGrow:"1"},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20}}}));var re=function(e){var t,a=e.rows,n=e.handleLinkClick,c=(e.currentSearchText,e.setCurrentSearchText,e.handleSearchTextChanged),i=e.handleLinkDelete,o=ne(),u=r.a.useState("asc"),s=Object(l.a)(u,2),d=s[0],m=s[1],p=r.a.useState("calories"),f=Object(l.a)(p,2),g=f[0],h=f[1],b=r.a.useState([]),v=Object(l.a)(b,2),E=v[0],k=v[1],y=r.a.useState(0),x=Object(l.a)(y,2),j=x[0],w=x[1],C=r.a.useState(!1),S=Object(l.a)(C,2),T=S[0],N=S[1],P=r.a.useState(5),L=Object(l.a)(P,2),B=L[0],F=L[1],z=B-Math.min(B,a.length-j*B);return r.a.createElement("div",{className:o.root},r.a.createElement(O.a,{className:o.paper},r.a.createElement(ae,{numSelected:E.length}),r.a.createElement(W.a,null,r.a.createElement(D.a,{className:o.table,"aria-labelledby":"tableTitle",size:T?"small":"medium","aria-label":"enhanced table"},r.a.createElement(ee,{classes:o,numSelected:E.length,order:d,orderBy:g,onSelectAllClick:function(e){if(e.target.checked){var t=a.map((function(e){return e.name}));k(t)}else k([])},onRequestSort:function(e,t){m(g===t&&"asc"===d?"desc":"asc"),h(t)},rowCount:a.length}),r.a.createElement(I.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(a,function(e,t){return"desc"===e?function(e,a){return Z(e,a,t)}:function(e,a){return-Z(e,a,t)}}(d,g)).slice(j*B,j*B+B).map((function(e,t){var a,l,o=(l=e.id,-1!==E.indexOf(l)),u="enhanced-table-checkbox-".concat(t);return r.a.createElement(q.a,{hover:!0,role:"checkbox","aria-checked":o,tabIndex:-1,key:e.id,selected:o},r.a.createElement(H.a,{component:"th",id:u,scope:"row",padding:"none",align:"right"},e.id),r.a.createElement(H.a,{align:"left"},r.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",onClick:function(){return n(e.id)}},e.link)),r.a.createElement(H.a,{align:"center"},e.clickCount),r.a.createElement(H.a,{align:"left"},e.comment),r.a.createElement(H.a,{align:"left"},e.dateShared),r.a.createElement(H.a,{align:"left"},null===e||void 0===e||null===(a=e.tags)||void 0===a?void 0:a.map((function(e){return r.a.createElement("button",{onClick:function(){return c(e.name)}},e.name)}))),r.a.createElement(H.a,{align:"left"},r.a.createElement("button",{onClick:function(){return i(e)}},"delete")))})),z>0&&r.a.createElement(q.a,{style:{height:(T?33:53)*z}},r.a.createElement(H.a,{colSpan:6}))))),r.a.createElement(_.a,(t={rowsPerPageOptions:[5],rowsPerPage:"5",component:"div",count:a.length},Object(R.a)(t,"rowsPerPage",B),Object(R.a)(t,"page",j),Object(R.a)(t,"onChangePage",(function(e,t){w(t)})),Object(R.a)(t,"onChangeRowsPerPage",(function(e){F(parseInt(e.target.value,10)),w(0)})),t))),r.a.createElement(V.a,{control:r.a.createElement(K.a,{checked:T,onChange:function(e){N(e.target.checked)}}),label:"Dense padding"}))},ce=a(184),ie=a(187),le=a(167),oe=a(179),ue=Object(x.a)((function(e){return{root:{gridRow:"3/4",gridColumn:"3/9",width:"100%",backgroundColor:"#fefae0ff",display:"flex",flexFlow:"row",marginBottom:"1rem",paddingTop:""},form:{width:"100%",paddingTop:"1.5rem",border:"2px solid #d4a373ff"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},textFieldStyle:{width:"30rem"}}})),se=function(e){var t=e.currentSearchText,a=e.handleSearchTextChange,n=e.searchOptionChange,c=e.currentOption,i=ue();return r.a.createElement("div",{className:i.root},r.a.createElement("form",{className:i.form,noValidate:!0,autoComplete:"off"},r.a.createElement(le.a,{className:i.formControl},r.a.createElement(ce.a,{id:"demo-simple-select-helper-label"},"Search By"),r.a.createElement(oe.a,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:c,onChange:function(e){return n(e)}},r.a.createElement(ie.a,{value:0},"By Link"),r.a.createElement(ie.a,{value:1},"By Tag"))),r.a.createElement(C.a,{id:"filled-basic",className:i.textFieldStyle,label:"Type your search text here.",variant:"filled",value:t,onChange:function(e){return a(e)}})))};i.a.render(r.a.createElement(w,null),document.getElementById("root"))},96:function(e,t,a){e.exports=a(124)}},[[96,1,2]]]);
//# sourceMappingURL=main.2c110e1e.chunk.js.map